# Use pandas to grab some stats.

import pandas as pd
from io import StringIO


# twitter_density_loc_norm.csv
csv_data = '''
x,Inlining,Ref count elim,Res set elim,Type check elim,Maint case elim
2.0,0.9658505154639176,0.8360784471649485,0.4916841172680413,0.464441043814433,0.47233408505154645
4.0,0.9530247562434304,0.8409148573706912,0.533980934430389,0.509985863931277,0.5076298524774366
6.0,0.9531051292920729,0.851896990250106,0.5586053412462908,0.5333827893175074,0.5379398050021196
8.0,0.957387710859698,0.8519070523677258,0.5727254251067001,0.550098231827112,0.5488788022491702
10.0,0.9581711256522819,0.854302990143295,0.5879234655843618,0.5677130787708109,0.5618321875258842
12.0,0.9539530842745438,0.848730572449078,0.5926247707307655,0.5668500820542524,0.5676223573704025
14.0,0.9629427197201574,0.8545037166593792,0.5993659816353301,0.5793616090948842,0.580126803672934
16.0,0.9635833940276766,0.8613741199320224,0.607428987618354,0.5857004127215344,0.5860645787812576
18.0,0.9685090814059847,0.859140206454985,0.6094342088070038,0.5868286946295571,0.5891807134457075
20.0,0.9630773550470308,0.8555383967429454,0.6111189105713886,0.5880949038326548,0.5903411483925313
'''

df = pd.DataFrame.from_csv(StringIO(csv_data))

means = df.mean()
means = means.apply(lambda x: 100 - round(x * 100))
print('Average percent improvement over unoptimized:')
print(means)

#print(df)
